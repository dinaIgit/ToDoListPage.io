(this.webpackJsonptodo_project=this.webpackJsonptodo_project||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),c=n(28),o=n.n(c),s=(n(43),n(44),n(11)),u=n(18),i=n(14),l=n(0),p=n.n(l),d=n(1),b=n(22),j=n(38),f=n(20),h=Object(j.a)({apiKey:"AIzaSyADNhiQGsN02HUwCUpRQU8MVbj9hK7_cN4",authDomain:"personaltodo-d48e4.firebaseapp.com",projectId:"personaltodo-d48e4",storageBucket:"personaltodo-d48e4.appspot.com",messagingSenderId:"372240948166",appId:"1:372240948166:web:587088465a8c2cc6ba70c7"}),v=Object(f.d)(h),x=n(27),O=Object(x.b)(h),g=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.c)(O,t,n);case 3:r=e.sent,console.log(r),localStorage.setItem("USER_ID",r.user.uid),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),e.next=13,Promise.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.a)(O,t,n);case 3:r=e.sent,console.log(r),localStorage.setItem("USER_ID",r.user.uid),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),e.next=13,Promise.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("logout service"),e.prev=1,e.next=4,Object(x.d)(O);case 4:localStorage.removeItem("USER_ID"),e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0.message),e.next=12,Promise.reject(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),k=Object(b.b)({name:"app",initialState:{isLoading:!1,auth:!1},reducers:{startLoading:function(e){e.isLoading=!0},stopLoading:function(e){e.isLoading=!1},authSuccess:function(e){e.auth=null!=localStorage.getItem("USER_ID")},appLogout:function(e){e.auth=!1}}}),y=k.reducer,S=k.actions,I=S.startLoading,D=S.stopLoading,L=S.authSuccess,T=S.appLogout,E=function(e){return e.app},N=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(f.b)(v,"todos",n),e.next=4,Object(f.c)(r);case 4:if(!e.sent.exists()){e.next=10;break}return e.next=8,Object(f.f)(r,{todos:Object(f.a)({title:t,status:!1})});case 8:e.next=12;break;case 10:return e.next=12,Object(f.e)(r,{todos:[{title:t,status:!1}]});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(f.b)(v,"todos",t),e.next=4,Object(f.c)(n);case 4:if(!(r=e.sent).exists()){e.next=7;break}return e.abrupt("return",r.data());case 7:return e.abrupt("return",{todos:[]});case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(f.b)(v,"todos",n),e.next=4,Object(f.f)(r,{todos:Object(i.a)(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),U=Object(b.b)({name:"todo",initialState:{todos:[]},reducers:{setTodo:function(e,t){var n=t.payload;e.todos=n.todos},addTodo:function(e,t){var n=t.payload;e.todos.push({title:n.title,status:!1})},changeTodoStatus:function(e,t){var n=t.payload;console.log(n),e.todos[n.index].status=n.status},removeTodo:function(e,t){var n=t.payload;e.todos.splice(n.index,1)},clearTodo:function(e){e.todos=[]}}}),C=U.actions,A=C.addTodo,P=C.changeTodoStatus,F=C.removeTodo,M=C.setTodo,B=C.clearTodo,J=U.reducer,K=function(e){return e.todo.todos},Q=n(10),z=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(u.b)();return Object(Q.jsxs)("form",{className:"row",action:"#",onSubmit:function(e){var t,r;e.preventDefault(),c((t=n,r=localStorage.getItem("USER_ID"),function(){var e=Object(d.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(I()),e.prev=1,e.next=4,N(t,r);case 4:a=e.sent,console.log(a),n(A({title:t})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:return e.prev=12,n(D()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())),a("")},children:[Object(Q.jsx)("input",{type:"text",name:"text",placeholder:"Type todo",value:n,onChange:function(e){return a(e.target.value)}}),Object(Q.jsx)("button",{type:"submit",children:"Add todo"})]})},G=function(){var e=Object(u.c)(K),t=Object(u.b)();return Object(r.useEffect)((function(){var e;t((e=localStorage.getItem("USER_ID"),function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(I()),t.prev=1,t.next=4,_(e);case 4:r=t.sent,n(M({todos:r.todos})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.message);case 11:return t.prev=11,n(D()),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()))}),[t]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("ul",{children:e.map((function(n,r){return Object(Q.jsx)("li",{children:Object(Q.jsxs)("div",{className:"row",children:[Object(Q.jsx)("input",{className:"check_box",type:"checkbox",checked:n.status,onChange:function(n){return t(function(e,t,n,r){return function(){var a=Object(d.a)(p.a.mark((function a(c){var o,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(I()),a.prev=1,o=Object(i.a)(n),s={title:n[e].title,status:t},o.splice(e,1,s),a.next=7,R(o,r);case 7:c(P({index:e,status:t})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0.message);case 13:return a.prev=13,c(D()),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[1,10,13,16]])})));return function(e){return a.apply(this,arguments)}}()}(r,n.target.checked,e,localStorage.getItem("USER_ID")))}}),Object(Q.jsx)("span",{style:{textDecoration:n.status?"line-through":"none"},children:n.title}),Object(Q.jsx)("button",{onClick:function(){return t(function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(I()),r.prev=1,Object(i.a)(t).splice(e,1),r.next=6,R(t,n);case 6:a(F({index:e})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0.message);case 12:return r.prev=12,a(D()),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,9,12,15]])})));return function(e){return r.apply(this,arguments)}}()}(r,e,localStorage.getItem("USER_ID")))},children:"Remove"})]})},r)}))}),Object(Q.jsx)("div",{className:"row",children:Object(Q.jsx)("button",{style:{marginLeft:"auto"},onClick:function(){t((console.log("Logout"),function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(I()),e.prev=1,e.next=4,w();case 4:t(T()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message);case 10:return e.prev=10,t(D()),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}())),t(B())},children:"Logout"})})]})};function H(){return Object(Q.jsx)("div",{className:"loader",children:Object(Q.jsx)("div",{className:"lds-dual-ring"})})}var V=n(4),q=n(35),W=Object(b.b)({name:"auth",initialState:{error:null},reducers:{setError:function(e,t){var n=t.payload;e.error=n},clearError:function(e){e.error=null}}}),X=W.reducer,Y=W.actions,Z=Y.setError,$=Y.clearError,ee=function(e){return e.auth.error};var te=function(){var e=Object(r.useState)({email:"",pass:""}),t=Object(s.a)(e,2),n=t[0],a=t[1],c=function(e){a(Object(q.a)(Object(q.a)({},n),{},Object(V.a)({},e.target.name,e.target.value)))},o=Object(u.c)(ee),i=Object(u.b)();return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("h1",{children:"This project was created in Firebase React"}),Object(Q.jsx)("h2",{children:"To create a To-Do List you need to register."}),Object(Q.jsx)("h3",{children:"The password must contain at 6 symbols. If you want to test the To-Do List without registering, use:"}),Object(Q.jsx)("p",{children:"Login: admin@gmail.com "}),Object(Q.jsx)("p",{children:"Password: 123456 "}),o&&Object(Q.jsx)("h3",{children:o}),Object(Q.jsxs)("form",{className:"row login",children:[Object(Q.jsx)("input",{type:"text",name:"email",placeholder:"type your email",value:n.email,onChange:function(e){c(e)}}),Object(Q.jsx)("input",{type:"text",name:"pass",placeholder:"type your password",value:n.pass,onChange:function(e){c(e)}}),Object(Q.jsxs)("div",{className:"login-btns",children:[Object(Q.jsx)("button",{type:"submit",name:"reg",onClick:function(e){var t,r;e.preventDefault(),i((t=n.email,r=n.pass,function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(I()),n($()),e.prev=2,e.next=5,m(t,r);case 5:n(L()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0),n(Z(e.t0.message));case 12:return e.prev=12,n(D()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])})));return function(t){return e.apply(this,arguments)}}())),a({email:"",pass:""})},children:"registration"}),Object(Q.jsx)("button",{type:"submit",name:"login",onClick:function(e){var t,r;e.preventDefault(),i((t=n.email,r=n.pass,function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(I()),n($()),e.prev=2,e.next=5,g(t,r);case 5:n(L()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0),n(Z(e.t0.message));case 12:return e.prev=12,n(D()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])})));return function(t){return e.apply(this,arguments)}}())),a({email:"",pass:""})},children:"login"})]})]})]})};var ne=function(){var e=Object(u.c)(E).isLoading,t=Object(u.c)(E).auth,n=Object(u.b)();return Object(r.useEffect)((function(){n(L())}),[n]),Object(Q.jsxs)("div",{className:"App",children:[t?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("h1",{children:"My ToDo List"}),Object(Q.jsx)(z,{}),Object(Q.jsx)("hr",{}),Object(Q.jsx)(G,{})]}):Object(Q.jsx)(te,{}),e&&Object(Q.jsx)(H,{})]})},re=n(19),ae=Object(re.b)({todo:J,app:y,auth:X}),ce=Object(b.a)({reducer:ae});o.a.render(Object(Q.jsx)(a.a.StrictMode,{children:Object(Q.jsx)(u.a,{store:ce,children:Object(Q.jsx)(ne,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.0b2004c1.chunk.js.map